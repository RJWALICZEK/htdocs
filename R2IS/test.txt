index.php:
<!DOCTYPE html>
<html lang="pl-PL">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- jquery dla app.js, ladowanie do main i promocje -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" src="app.js" defer></script> <!-- defer czeka ze skryptem do czasu zaladowania calej strony -->
  <link rel="icon" href="img/motorcycle.png" type="image/x-icon">


  <title>Walmech</title>
</head>

<body>

<!-- gorny pasek -->
  <div class="container-fluid header-top">
      <div>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">Zaloguj</button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registerModal">Rejestracja</button>            
      </div>
      <div>
  <img src="img/logo.png" alt="Logo" class="logo-link link" link="home.php">
</div>
  </div>

  <!-- glowna -->
  <div class="container-fluid">

      <div id="header-carousel" class="carousel slide mb-4 rounded-3 overflow-hidden" data-bs-ride="carousel">
        <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="img/slide/slide1.png" class="d-block w-100" alt="Slajd 1">
        </div>
        <div class="carousel-item">
          <img src="img/slide/slide2.png" class="d-block w-100" alt="Slajd 2">
        </div>
        <div class="carousel-item">
          <img src="img/slide/slide3.png" class="d-block w-100" alt="Slajd 3">
        </div>
        <div class="carousel-item">
          <img src="img/slide/slide4.png" class="d-block w-100" alt="Slajd 3">
        </div>
        <div class="carousel-item">
          <img src="img/slide/slide5.png" class="d-block w-100" alt="Slajd 3">
        </div>
        <div class="carousel-item">
          <img src="img/slide/slide6.png" class="d-block w-100" alt="Slajd 3">
        </div>
        </div>

        <!-- Tekst nagłówka na środku -->
        <div class="carousel-caption">
          <h2 >Witamy w sklepie Walmech!</h2>
          <p >Części i akcesoria do skuterów - silnik, zawieszenie, tuning i więcej.</p>
        </div>
      </div>

        
      <!-- panel boczny z przyciskami -->
      <div class="container-fluid">
      <div class="row">
        <div class="col-md-3">
                <div id="menu" class="btn-group-vertical m-1">
              <button type="button" link="home.php" class="link btn btn-primary">Strona główna</button>
              <button type="button" class="btn btn-primary link" link="products.php?kategoria=">Wszystkie produkty</button>
                <div class="btn-group dropend">
                <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">Części</button>
                  <ul class="dropdown-menu">
                      <li><button class="link dropdown-item" type="button"  link="products.php?kategoria=czesci_silnikowe">Części silnikowe</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=uklad_napedowy">Układ napędowy</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=zawieszenie">Zawieszenie</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=hamulce">Hamulce</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=elektryka">Elektryka</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=nadwozie_i_plastiki">Nadwozie i plastiki</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=kola">Koła</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=akcesoria_i_tuning">Akcesoria i tuning</button></li>
                    </ul>
                </div>  
              <div class="btn-group dropend">
                <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">Kaski</button>
                  <ul class="dropdown-menu">
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=kask_integralny">Kask integralny</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=kask_modularny">Kask modularny</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=kask_otwarty">Kask otwarty</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=kask_enduro">Kask enduro</button></li>
                    </ul>
                </div>    
              <div class="btn-group dropend">
                <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">Serwis i narzędzia</button>
                  <ul class="dropdown-menu">
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=oleje_i_plyny">Oleje i płyny</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=narzedzia">Narzędzia</button></li>
                      <li><button class="link dropdown-item" type="button" link="products.php?kategoria=opony">Opony</button></li>
                    </ul>
                </div>    
              <button type="button" link="contact.php" class="link btn btn-info">Kontakt</button>
            </div>
        </div>
         <!--kontener po prawej od panelu -->
        <div class="col-md-9 text-center">                 
          <div class="" id="sale">
              <!-- Tu będą promocje ładowane z serwera -->
          </div>  
        </div>
      </div>
    </div>
    <div id="main" >
          <!-- kontener do wyswietlania zawartosci -->
    </div>
    <div id="content">
      <!-- testowy kontener -->
    </div>
    <<!--stopka -->
      <footer class="d-flex justify-content-between px-4 py-3 bg-light mt-4 border-top">
        <div class="col-md-6 text-center">Sklep z czesciami do skuterów, projekt zaliczeniowy</div>
          <div class="col-md-6 text-center">© Copyright © 2025 by Rafał Waliczek All Rights Reserved.</div>
    </footer>
  </div>
  
  <?php include 'modal-login.php'; ?>
  <?php include 'modal-register.php'; ?>
</body>

</html>

sale.php:
<?php
require_once "db.php";

$sql = "SELECT * FROM produkty";
$stmt = $conn->prepare($sql);
$stmt->execute();
$result = $stmt->get_result();

$products = [];
while ($row = $result->fetch_assoc()) {
  $products[] = $row;
}

$salegroup = array_chunk($products, 3); 
?>


<link rel="stylesheet" href="css/style.css">

<!-- bootstrap karuzela -->

<div class="alert alert-warning">
    <a><strong>Wyprzedaż!</strong> </a>
</div>
<div id="produktyCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <?php foreach ($salegroup as $index => $chunk): ?>
      <div class="carousel-item <?= $index === 0 ? 'active' : '' ?>">
        <div class="d-flex justify-content-center">
          <?php foreach ($chunk as $row): ?>
            <div class="product-card text-center mx-2" style="width: 30%;">
              <img src="img/products/<?= htmlspecialchars($row['obrazek']) ?>" 
                   class="d-block mx-auto" 
                   style="max-height: 300px;" 
                   alt="<?= htmlspecialchars($row['nazwa']) ?>" />
              <h5><?= htmlspecialchars($row['nazwa']) ?></h5>
              <p><strong><?= htmlspecialchars($row['cena']) ?> zł</strong></p>
            </div>
          <?php endforeach; ?>
        </div>
      </div>
    <?php endforeach; ?>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#produktyCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#produktyCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

register.php:
<?php
$message = "";
$alertClass = "alert-danger";

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $login = trim($_POST['login'] ?? '');
    $haslo = $_POST['haslo'] ?? '';
    $haslo2 = $_POST['haslo2'] ?? '';
    $email = trim($_POST['email'] ?? '');

    if (empty($login) || empty($haslo) || empty($haslo2) || empty($email)) {
        $message = "Wszystkie pola są wymagane.";
    } elseif ($haslo !== $haslo2) {
        $message = "Hasła nie są identyczne.";
    } else {
        require_once "db.php";
        $hasloHash = password_hash($haslo, PASSWORD_DEFAULT);

        $stmt = $conn->prepare("INSERT INTO users (login, haslo, email) VALUES (?, ?, ?)");
        $stmt->bind_param("sss", $login, $hasloHash, $email);

        if ($stmt->execute()) {
            $message = "Rejestracja zakończona sukcesem!";
            $alertClass = "alert-success";
        } else {
            $message = "Błąd rejestracji: " . $stmt->error;
        }
    }
}
?>

<!-- HTML z komunikatem -->
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Rejestracja</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">

    <?php if (!empty($message)): ?>
      <div class="alert <?= $alertClass ?>"><?= htmlspecialchars($message) ?></div>
    <?php endif; ?>

    <a href="index.php" class="btn btn-secondary">Wróć</a>
  </div>
</body>
</html>

products.php:
<?php
require_once "db.php";

$kategoria = $_GET['kategoria'] ?? '';

if ($kategoria) {
    $sql = "SELECT * FROM produkty WHERE kategoria = ?";
    $stmt = $conn->prepare($sql);
    $stmt->bind_param("s", $kategoria);
} else {
    // Jeśli nie podano kategorii, pokazujemy wszystkie produkty
    $sql = "SELECT * FROM produkty";
    $stmt = $conn->prepare($sql);
}

$stmt->execute();
$result = $stmt->get_result();
?>

<div class="container my-5">
  <h2 class="mb-4">Produkty z kategorii: <?= htmlspecialchars($kategoria) ?></h2>
  
  <div class="row">
    <?php while($row = $result->fetch_assoc()): ?>
      <div class="col-6 col-md-3 mb-4">
        <div class="card h-100 d-flex flex-column">
          <!-- Obrazek jako przycisk modala -->
          <img 
            src="img/products/<?= $row['obrazek'] ?>" 
            class="card-img-top img-thumbnail"
            alt="<?= htmlspecialchars($row['nazwa']) ?>"
            data-bs-toggle="modal"
            data-bs-target="#modal-<?= $row['id'] ?>"
          >

          <!-- Dołączenie modala z zewnętrznego pliku -->
          <?php 
            $productId = $row['id'];
            $productImage = $row['obrazek'];
            $productName = $row['nazwa'];
            include 'modal-img.php'; 
          ?>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><?= htmlspecialchars($row['nazwa']) ?></h5>
            <!-- Przycisk do rozwinięcia/zamknięcia opisu -->
            <button class="btn btn-link p-0 mb-2 text-start text-decoration-none" 
                    type="button" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#opis-<?= $row['id'] ?>" 
                    aria-expanded="false" 
                    aria-controls="opis-<?= $row['id'] ?>">
              Pokaż opis
            </button>

            <!-- Ukryty opis -->
            <div class="collapse mb-2" id="opis-<?= $row['id'] ?>">
              <p class="card-text"><?= nl2br(htmlspecialchars($row['opis'])) ?></p>
            </div>
            <p class="card-text"><strong><?= $row['cena'] ?> zł</strong></p>
            <a href="#" class="btn btn-primary mt-auto">Dodaj do koszyka</a>
          </div>
        </div>
      </div>
    <?php endwhile; ?>
  </div>
</div>

login.php
<?php
session_start();
$message = "";
$alertClass = "alert-danger";

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $login = trim($_POST['login'] ?? '');
    $haslo = $_POST['haslo'] ?? '';

    if (empty($login) || empty($haslo)) {
        $message = "Wypełnij oba pola.";
    } else {
        require_once "db.php";

        $stmt = $conn->prepare("SELECT * FROM users WHERE login = ?");
        $stmt->bind_param("s", $login);
        $stmt->execute();
        $result = $stmt->get_result();

        if ($user = $result->fetch_assoc()) {
            if (password_verify($haslo, $user['haslo'])) {
                $_SESSION['user_id'] = $user['id'];
                $_SESSION['login'] = $user['login'];
                $alertClass = "alert-success";
                $message = "Zalogowano pomyślnie.";

                // Możesz przekierować np. do panelu użytkownika:
                header("Location: index.php");
                exit;
            } else {
                $message = "Nieprawidłowe hasło.";
            }
        } else {
            $message = "Użytkownik nie istnieje.";
        }
    }
}
?>

<!-- HTML z komunikatem -->
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Logowanie</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <?php if (!empty($message)): ?>
      <div class="alert <?= $alertClass ?>"><?= htmlspecialchars($message) ?></div>
    <?php endif; ?>

    <a href="index.php" class="btn btn-secondary">Wróć</a>
  </div>
</body>
</html>

home.php:
<!-- Baner powitalny -->
<section class="bg-primary text-white text-center py-5 mb-5">
  <div class="container">
    <h1 class="display-4 fw-bold">Witamy w sklepie Walmech!</h1>
    <p class="lead mb-4">Najlepsze części i akcesoria do skuterów – silnik, zawieszenie, tuning i nie tylko.</p>
    <button type="button" class="btn btn-light link" link="products.php?kategoria=">Zobacz nasze produkty</button>   
    
  </div>
</section>

<!-- Jak zamawiać -->
<section class="container mb-5">
  <h2 class="mb-4 text-center">Jak zamawiać?</h2>
  <div class="row text-center">
    <div class="col-md-4 mb-4">
      <div class="p-3 border rounded shadow-sm h-100">
        <div class="mb-3 fs-1 text-primary"><i class="bi bi-search"></i></div>
        <h4>1. Wybierz produkt</h4>
        <p>Przeglądaj nasze kategorie i wybierz części, które Cię interesują.</p>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="p-3 border rounded shadow-sm h-100">
        <div class="mb-3 fs-1 text-primary"><i class="bi bi-cart-plus"></i></div>
        <h4>2. Dodaj do koszyka</h4>
        <p>Dodaj wybrane produkty do koszyka i przejdź do zamówienia.</p>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="p-3 border rounded shadow-sm h-100">
        <div class="mb-3 fs-1 text-primary"><i class="bi bi-truck"></i></div>
        <h4>3. Odbierz zamówienie</h4>
        <p>Wybierz formę dostawy i odbierz przesyłkę szybko i bezpiecznie.</p>
      </div>
    </div>
  </div>
</section>

<!-- Dlaczego warto nas wybrać -->
<section class="bg-light py-5">
  <div class="container">
    <h2 class="mb-4 text-center">Dlaczego warto nas wybrać?</h2>
    <div class="row text-center">
      <div class="col-md-3 mb-4">
        <div class="p-3 border rounded shadow-sm h-100">
          <i class="bi bi-shield-check fs-1 text-success mb-3"></i>
          <h5>Gwarancja jakości</h5>
          <p>Oferujemy tylko oryginalne i sprawdzone części.</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="p-3 border rounded shadow-sm h-100">
          <i class="bi bi-speedometer2 fs-1 text-success mb-3"></i>
          <h5>Szybka wysyłka</h5>
          <p>Zamówienia realizujemy błyskawicznie, abyś szybko mógł cieszyć się zakupami.</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="p-3 border rounded shadow-sm h-100">
          <i class="bi bi-people fs-1 text-success mb-3"></i>
          <h5>Fachowa obsługa</h5>
          <p>Pomagamy w doborze części i odpowiadamy na wszystkie pytania.</p>
        </div>
      </div>
      <div class="col-md-3 mb-4">
        <div class="p-3 border rounded shadow-sm h-100">
          <i class="bi bi-cash fs-1 text-success mb-3"></i>
          <h5>Konkurencyjne ceny</h5>
          <p>Zapewniamy atrakcyjne ceny i regularne promocje.</p>
        </div>
      </div>
    </div>
  </div>
</section>

app.js:
$(document).ready(function () {
    $("#sale").load("sale.php");
    $("#main").load("home.php");

    // Delegacja zdarzeń - obsługa kliknięć dla elementów .link, także tych ładowanych dynamicznie
    $(document).on("click", ".link", function (e) {
        e.preventDefault();  // blokujemy domyślną akcję kliknięcia
        $("#main").load($(this).attr("link"));
    });
});

style.css:


/*---------------indeks-----------------------*/

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 0.8rem;
}

.logo-link {
  height: 40px;
  cursor: pointer;
}

.carousel-caption {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  bottom: initial;
  text-align: center;
   font-size: 1.5rem;
}

.carousel-item {
  height: 420px;
  object-fit: cover;
}


.carousel-caption h2,
.carousel-caption p {
  background-color: rgba(0, 0, 0, 0.5);
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
}

footer {
  font-size: 0.9rem;
  color: #555;
}






/*----------------sales---------------*/

.product-card img {
  max-width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 5px;
  margin-bottom: 10px;
}

.carousel-control-prev {
  left: -50px; 
}

.carousel-control-next {
  right: -50px; 
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  filter: invert(60%) sepia(100%) saturate(700%) hue-rotate(180deg);
  background-color: transparent; 
}

